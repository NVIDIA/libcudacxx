//===----------------------------------------------------------------------===//
//
// Part of libcu++, the C++ Standard Library for your entire system,
// under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//

#if defined(__CUDA_ARCH__) && __CUDA_ARCH__ < 700
#  error "CUDA synchronization primitives are only supported for sm_70 and up."
#endif

#ifndef _CUDA_MUTEX_BASE
#define _CUDA_MUTEX_BASE

#include "../semaphore"

_LIBCUDACXX_BEGIN_NAMESPACE_STD

template<int _Sco>
using __libcpp_mutex_t = cuda::std::__atomic_semaphore_base<_Sco,1>;

#define _LIBCUDACXX_MUTEX_INITIALIZER {1ll}
#define _LIBCUDACXX_HAS_TRIVIAL_MUTEX_DESTRUCTION

_LIBCUDACXX_END_NAMESPACE_STD

#include "__config"
#include "__pragma_push"

#include "libcxx/include/__mutex_base"

#include "__pragma_pop"

#endif //_CUDA_MUTEX_BASE
